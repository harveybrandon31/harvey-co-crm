// Mock data for preview mode (when authentication is disabled)

import type {
  Client,
  TaxReturn,
  Invoice,
  Document,
  ActivityLog,
  InvoiceLineItem,
  Task,
} from "./types";

const DEMO_USER_ID = "demo-user-id";

export const mockClients: Client[] = [
  {
    id: "client-1",
    created_at: "2024-08-15T10:00:00Z",
    updated_at: "2025-01-10T14:30:00Z",
    first_name: "John",
    last_name: "Anderson",
    email: "john.anderson@email.com",
    phone: "(555) 123-4567",
    address_street: "123 Main Street",
    address_city: "Austin",
    address_state: "TX",
    address_zip: "78701",
    ssn_last_four: "4532",
    filing_status: "married_joint",
    status: "active",
    notes: "Long-term client since 2020. Owns small business.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "client-2",
    created_at: "2024-09-20T09:00:00Z",
    updated_at: "2025-01-08T11:00:00Z",
    first_name: "Sarah",
    last_name: "Mitchell",
    email: "sarah.m@email.com",
    phone: "(555) 234-5678",
    address_street: "456 Oak Avenue",
    address_city: "Houston",
    address_state: "TX",
    address_zip: "77001",
    ssn_last_four: "7821",
    filing_status: "single",
    status: "active",
    notes: "Freelance graphic designer. Multiple 1099s.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "client-3",
    created_at: "2024-10-05T14:00:00Z",
    updated_at: "2025-01-12T16:45:00Z",
    first_name: "Michael",
    last_name: "Chen",
    email: "m.chen@email.com",
    phone: "(555) 345-6789",
    address_street: "789 Pine Road",
    address_city: "Dallas",
    address_state: "TX",
    address_zip: "75201",
    ssn_last_four: "3345",
    filing_status: "married_joint",
    status: "active",
    notes: "Software engineer. Has stock options and RSUs.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "client-4",
    created_at: "2024-11-12T08:30:00Z",
    updated_at: "2025-01-05T10:00:00Z",
    first_name: "Emily",
    last_name: "Rodriguez",
    email: "emily.r@email.com",
    phone: "(555) 456-7890",
    address_street: "321 Elm Street",
    address_city: "San Antonio",
    address_state: "TX",
    address_zip: "78201",
    ssn_last_four: "9912",
    filing_status: "head_of_household",
    status: "active",
    notes: "Single parent with two dependents.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "client-5",
    created_at: "2025-01-02T11:00:00Z",
    updated_at: "2025-01-02T11:00:00Z",
    first_name: "David",
    last_name: "Thompson",
    email: "david.t@email.com",
    phone: "(555) 567-8901",
    address_street: "555 Cedar Lane",
    address_city: "Fort Worth",
    address_state: "TX",
    address_zip: "76101",
    ssn_last_four: null,
    filing_status: null,
    status: "prospect",
    notes: "Referred by John Anderson. Interested in tax planning.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "client-6",
    created_at: "2023-03-10T09:00:00Z",
    updated_at: "2024-04-15T12:00:00Z",
    first_name: "Lisa",
    last_name: "Williams",
    email: "lisa.w@email.com",
    phone: "(555) 678-9012",
    address_street: "888 Maple Drive",
    address_city: "Plano",
    address_state: "TX",
    address_zip: "75024",
    ssn_last_four: "6654",
    filing_status: "single",
    status: "inactive",
    notes: "Moved out of state in 2024.",
    user_id: DEMO_USER_ID,
  },
];

export const mockTaxReturns: TaxReturn[] = [
  {
    id: "return-1",
    created_at: "2025-01-10T10:00:00Z",
    updated_at: "2025-01-15T14:00:00Z",
    client_id: "client-1",
    tax_year: 2024,
    return_type: "1040",
    status: "in_progress",
    due_date: "2025-04-15",
    extended_due_date: null,
    filed_date: null,
    accepted_date: null,
    total_income: 185000,
    total_deductions: 32000,
    tax_liability: 28500,
    refund_amount: null,
    amount_due: 3200,
    preparation_fee: 450,
    fee_paid: false,
    notes: "Waiting for K-1 from partnership.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "return-2",
    created_at: "2025-01-08T09:00:00Z",
    updated_at: "2025-01-14T16:00:00Z",
    client_id: "client-2",
    tax_year: 2024,
    return_type: "1040",
    status: "pending_client",
    due_date: "2025-04-15",
    extended_due_date: null,
    filed_date: null,
    accepted_date: null,
    total_income: 95000,
    total_deductions: 18500,
    tax_liability: 14200,
    refund_amount: 2800,
    amount_due: null,
    preparation_fee: 350,
    fee_paid: false,
    notes: "Need additional 1099-NEC forms.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "return-3",
    created_at: "2025-01-05T11:00:00Z",
    updated_at: "2025-01-16T10:00:00Z",
    client_id: "client-3",
    tax_year: 2024,
    return_type: "1040",
    status: "ready_to_file",
    due_date: "2025-04-15",
    extended_due_date: null,
    filed_date: null,
    accepted_date: null,
    total_income: 245000,
    total_deductions: 45000,
    tax_liability: 52000,
    refund_amount: null,
    amount_due: 8500,
    preparation_fee: 550,
    fee_paid: true,
    notes: "Complex return with stock sales. Ready for client review.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "return-4",
    created_at: "2025-01-12T14:00:00Z",
    updated_at: "2025-01-12T14:00:00Z",
    client_id: "client-4",
    tax_year: 2024,
    return_type: "1040",
    status: "not_started",
    due_date: "2025-04-15",
    extended_due_date: null,
    filed_date: null,
    accepted_date: null,
    total_income: null,
    total_deductions: null,
    tax_liability: null,
    refund_amount: null,
    amount_due: null,
    preparation_fee: 300,
    fee_paid: false,
    notes: null,
    user_id: DEMO_USER_ID,
  },
  {
    id: "return-5",
    created_at: "2024-02-15T10:00:00Z",
    updated_at: "2024-03-20T11:00:00Z",
    client_id: "client-1",
    tax_year: 2023,
    return_type: "1040",
    status: "accepted",
    due_date: "2024-04-15",
    extended_due_date: null,
    filed_date: "2024-03-18",
    accepted_date: "2024-03-20",
    total_income: 172000,
    total_deductions: 29000,
    tax_liability: 26800,
    refund_amount: 1200,
    amount_due: null,
    preparation_fee: 425,
    fee_paid: true,
    notes: null,
    user_id: DEMO_USER_ID,
  },
  {
    id: "return-6",
    created_at: "2024-03-01T09:00:00Z",
    updated_at: "2024-04-10T15:00:00Z",
    client_id: "client-2",
    tax_year: 2023,
    return_type: "1040",
    status: "accepted",
    due_date: "2024-04-15",
    extended_due_date: null,
    filed_date: "2024-04-08",
    accepted_date: "2024-04-10",
    total_income: 88000,
    total_deductions: 16000,
    tax_liability: 13500,
    refund_amount: 3100,
    amount_due: null,
    preparation_fee: 325,
    fee_paid: true,
    notes: null,
    user_id: DEMO_USER_ID,
  },
];

export const mockInvoices: Invoice[] = [
  {
    id: "invoice-1",
    created_at: "2025-01-10T10:00:00Z",
    updated_at: "2025-01-10T10:00:00Z",
    invoice_number: "2025-0001",
    client_id: "client-3",
    tax_return_id: "return-3",
    issue_date: "2025-01-10",
    due_date: "2025-02-09",
    status: "paid",
    line_items: [
      { description: "Tax Preparation - 2024 1040", quantity: 1, unit_price: 550, amount: 550 },
    ] as InvoiceLineItem[],
    subtotal: 550,
    tax_rate: 0,
    tax_amount: 0,
    total: 550,
    paid_date: "2025-01-12",
    paid_amount: 550,
    payment_method: "credit_card",
    notes: null,
    user_id: DEMO_USER_ID,
  },
  {
    id: "invoice-2",
    created_at: "2025-01-08T09:00:00Z",
    updated_at: "2025-01-08T09:00:00Z",
    invoice_number: "2025-0002",
    client_id: "client-1",
    tax_return_id: "return-1",
    issue_date: "2025-01-08",
    due_date: "2025-02-07",
    status: "sent",
    line_items: [
      { description: "Tax Preparation - 2024 1040", quantity: 1, unit_price: 450, amount: 450 },
      { description: "Schedule C - Business Income", quantity: 1, unit_price: 150, amount: 150 },
    ] as InvoiceLineItem[],
    subtotal: 600,
    tax_rate: 0,
    tax_amount: 0,
    total: 600,
    paid_date: null,
    paid_amount: null,
    payment_method: null,
    notes: "Payment due upon completion.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "invoice-3",
    created_at: "2024-12-15T11:00:00Z",
    updated_at: "2024-12-15T11:00:00Z",
    invoice_number: "2024-0012",
    client_id: "client-2",
    tax_return_id: null,
    issue_date: "2024-12-15",
    due_date: "2025-01-14",
    status: "overdue",
    line_items: [
      { description: "Tax Planning Consultation", quantity: 2, unit_price: 150, amount: 300 },
    ] as InvoiceLineItem[],
    subtotal: 300,
    tax_rate: 0,
    tax_amount: 0,
    total: 300,
    paid_date: null,
    paid_amount: null,
    payment_method: null,
    notes: "Year-end tax planning session.",
    user_id: DEMO_USER_ID,
  },
  {
    id: "invoice-4",
    created_at: "2025-01-15T14:00:00Z",
    updated_at: "2025-01-15T14:00:00Z",
    invoice_number: "2025-0003",
    client_id: "client-4",
    tax_return_id: "return-4",
    issue_date: "2025-01-15",
    due_date: "2025-02-14",
    status: "draft",
    line_items: [
      { description: "Tax Preparation - 2024 1040", quantity: 1, unit_price: 300, amount: 300 },
      { description: "Child Tax Credit Review", quantity: 1, unit_price: 75, amount: 75 },
    ] as InvoiceLineItem[],
    subtotal: 375,
    tax_rate: 0,
    tax_amount: 0,
    total: 375,
    paid_date: null,
    paid_amount: null,
    payment_method: null,
    notes: null,
    user_id: DEMO_USER_ID,
  },
  {
    id: "invoice-5",
    created_at: "2024-03-20T10:00:00Z",
    updated_at: "2024-03-25T09:00:00Z",
    invoice_number: "2024-0003",
    client_id: "client-1",
    tax_return_id: "return-5",
    issue_date: "2024-03-20",
    due_date: "2024-04-19",
    status: "paid",
    line_items: [
      { description: "Tax Preparation - 2023 1040", quantity: 1, unit_price: 425, amount: 425 },
    ] as InvoiceLineItem[],
    subtotal: 425,
    tax_rate: 0,
    tax_amount: 0,
    total: 425,
    paid_date: "2024-03-25",
    paid_amount: 425,
    payment_method: "check",
    notes: null,
    user_id: DEMO_USER_ID,
  },
];

export const mockDocuments: Document[] = [
  {
    id: "doc-1",
    created_at: "2025-01-10T10:30:00Z",
    client_id: "client-1",
    tax_return_id: "return-1",
    name: "W-2 - Anderson Employer.pdf",
    file_path: "documents/client-1/w2-employer.pdf",
    file_type: "application/pdf",
    file_size: 125000,
    category: "w2",
    uploaded_by: "client",
    user_id: DEMO_USER_ID,
  },
  {
    id: "doc-2",
    created_at: "2025-01-10T10:35:00Z",
    client_id: "client-1",
    tax_return_id: "return-1",
    name: "1099-DIV - Vanguard.pdf",
    file_path: "documents/client-1/1099-div.pdf",
    file_type: "application/pdf",
    file_size: 85000,
    category: "1099",
    uploaded_by: "client",
    user_id: DEMO_USER_ID,
  },
  {
    id: "doc-3",
    created_at: "2025-01-08T11:00:00Z",
    client_id: "client-2",
    tax_return_id: "return-2",
    name: "1099-NEC - Client ABC.pdf",
    file_path: "documents/client-2/1099-nec-abc.pdf",
    file_type: "application/pdf",
    file_size: 92000,
    category: "1099",
    uploaded_by: "client",
    user_id: DEMO_USER_ID,
  },
  {
    id: "doc-4",
    created_at: "2025-01-05T09:00:00Z",
    client_id: "client-3",
    tax_return_id: "return-3",
    name: "W-2 - Tech Company.pdf",
    file_path: "documents/client-3/w2.pdf",
    file_type: "application/pdf",
    file_size: 118000,
    category: "w2",
    uploaded_by: "client",
    user_id: DEMO_USER_ID,
  },
  {
    id: "doc-5",
    created_at: "2025-01-05T09:15:00Z",
    client_id: "client-3",
    tax_return_id: "return-3",
    name: "Stock Sale Confirmation.pdf",
    file_path: "documents/client-3/stock-sale.pdf",
    file_type: "application/pdf",
    file_size: 210000,
    category: "other",
    uploaded_by: "client",
    user_id: DEMO_USER_ID,
  },
];

export const mockActivityLog: ActivityLog[] = [
  {
    id: "activity-1",
    created_at: "2025-01-16T10:00:00Z",
    user_id: DEMO_USER_ID,
    client_id: "client-3",
    tax_return_id: "return-3",
    action: "status_change",
    description: "Return status changed to Ready to File",
    metadata: { from: "pending_review", to: "ready_to_file" },
  },
  {
    id: "activity-2",
    created_at: "2025-01-15T14:30:00Z",
    user_id: DEMO_USER_ID,
    client_id: "client-4",
    tax_return_id: "return-4",
    action: "return_created",
    description: "Created 2024 tax return",
    metadata: null,
  },
  {
    id: "activity-3",
    created_at: "2025-01-14T16:00:00Z",
    user_id: DEMO_USER_ID,
    client_id: "client-2",
    tax_return_id: "return-2",
    action: "status_change",
    description: "Return status changed to Pending Client",
    metadata: { from: "in_progress", to: "pending_client" },
  },
  {
    id: "activity-4",
    created_at: "2025-01-12T11:00:00Z",
    user_id: DEMO_USER_ID,
    client_id: "client-3",
    tax_return_id: null,
    action: "payment_received",
    description: "Payment of $550.00 received",
    metadata: { invoice_id: "invoice-1", amount: 550 },
  },
  {
    id: "activity-5",
    created_at: "2025-01-10T10:00:00Z",
    user_id: DEMO_USER_ID,
    client_id: "client-1",
    tax_return_id: "return-1",
    action: "return_created",
    description: "Created 2024 tax return",
    metadata: null,
  },
];

// Helper function to get client by ID
export function getMockClient(id: string): Client | undefined {
  return mockClients.find((c) => c.id === id);
}

// Helper function to get returns for a client
export function getMockReturnsForClient(clientId: string): TaxReturn[] {
  return mockTaxReturns.filter((r) => r.client_id === clientId);
}

// Helper function to get invoices for a client
export function getMockInvoicesForClient(clientId: string): Invoice[] {
  return mockInvoices.filter((i) => i.client_id === clientId);
}

// Helper function to get documents for a client
export function getMockDocumentsForClient(clientId: string): Document[] {
  return mockDocuments.filter((d) => d.client_id === clientId);
}

// Mock tasks for task management
export const mockTasks: Task[] = [
  {
    id: "task-1",
    created_at: "2025-01-16T08:00:00Z",
    updated_at: "2025-01-16T08:00:00Z",
    client_id: "client-1",
    tax_return_id: "return-1",
    title: "Request K-1 from partnership",
    description: "Client is waiting for K-1 from Anderson Partnership. Follow up if not received by Jan 20.",
    status: "in_progress",
    priority: "high",
    due_date: "2025-01-20",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
  {
    id: "task-2",
    created_at: "2025-01-15T14:00:00Z",
    updated_at: "2025-01-15T14:00:00Z",
    client_id: "client-2",
    tax_return_id: "return-2",
    title: "Collect missing 1099-NEC forms",
    description: "Sarah mentioned she had 3 freelance clients this year but only provided 2 1099s.",
    status: "pending",
    priority: "medium",
    due_date: "2025-01-25",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
  {
    id: "task-3",
    created_at: "2025-01-14T10:00:00Z",
    updated_at: "2025-01-16T09:00:00Z",
    client_id: "client-3",
    tax_return_id: "return-3",
    title: "Schedule client review meeting",
    description: "Return is ready for review. Schedule Zoom call with Michael to go over tax liability.",
    status: "completed",
    priority: "medium",
    due_date: "2025-01-18",
    assigned_to: "demo-user-id",
    completed_at: "2025-01-16T09:00:00Z",
  },
  {
    id: "task-4",
    created_at: "2025-01-12T11:00:00Z",
    updated_at: "2025-01-12T11:00:00Z",
    client_id: "client-4",
    tax_return_id: "return-4",
    title: "Send intake questionnaire",
    description: "Emily is a new client this year. Send intake form and document checklist.",
    status: "pending",
    priority: "low",
    due_date: "2025-01-22",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
  {
    id: "task-5",
    created_at: "2025-01-16T07:00:00Z",
    updated_at: "2025-01-16T07:00:00Z",
    client_id: null,
    tax_return_id: null,
    title: "Review IRS guidance on crypto reporting",
    description: "New regulations for 2024 tax year. Need to update procedures for clients with crypto.",
    status: "pending",
    priority: "urgent",
    due_date: "2025-01-17",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
  {
    id: "task-6",
    created_at: "2025-01-10T09:00:00Z",
    updated_at: "2025-01-15T16:00:00Z",
    client_id: "client-2",
    tax_return_id: null,
    title: "Follow up on overdue invoice",
    description: "Invoice #2024-0012 is overdue. Send payment reminder.",
    status: "in_progress",
    priority: "high",
    due_date: "2025-01-18",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
  {
    id: "task-7",
    created_at: "2025-01-08T15:00:00Z",
    updated_at: "2025-01-12T10:00:00Z",
    client_id: "client-1",
    tax_return_id: "return-1",
    title: "Verify estimated payments",
    description: "John mentioned making Q4 estimated payment. Verify amount and date.",
    status: "completed",
    priority: "medium",
    due_date: "2025-01-15",
    assigned_to: "demo-user-id",
    completed_at: "2025-01-12T10:00:00Z",
  },
  {
    id: "task-8",
    created_at: "2025-01-05T11:00:00Z",
    updated_at: "2025-01-05T11:00:00Z",
    client_id: "client-5",
    tax_return_id: null,
    title: "Initial consultation with David Thompson",
    description: "New referral from John Anderson. Discuss tax planning needs and services.",
    status: "pending",
    priority: "medium",
    due_date: "2025-01-24",
    assigned_to: "demo-user-id",
    completed_at: null,
  },
];

// Helper function to get tasks for a client
export function getMockTasksForClient(clientId: string): Task[] {
  return mockTasks.filter((t) => t.client_id === clientId);
}

// Mock intake links
export const mockIntakeLinks = [
  {
    id: "link-1",
    created_at: "2025-01-15T10:00:00Z",
    token: "abc123def456ghi789",
    email: "newclient@email.com",
    expires_at: "2025-02-14T10:00:00Z",
    used_at: null,
    prefill_first_name: "James",
    prefill_last_name: "Wilson",
    client: null,
  },
  {
    id: "link-2",
    created_at: "2025-01-10T14:00:00Z",
    token: "xyz789abc123def456",
    email: "completed@email.com",
    expires_at: "2025-02-09T14:00:00Z",
    used_at: "2025-01-12T09:30:00Z",
    prefill_first_name: "Amanda",
    prefill_last_name: "Smith",
    client: {
      id: "client-1",
      first_name: "Amanda",
      last_name: "Smith",
      email: "completed@email.com",
    },
  },
  {
    id: "link-3",
    created_at: "2024-12-01T09:00:00Z",
    token: "expired123token456",
    email: null,
    expires_at: "2024-12-31T09:00:00Z",
    used_at: null,
    prefill_first_name: null,
    prefill_last_name: null,
    client: null,
  },
];

// Check if we're in demo mode (no authenticated user)
export const DEMO_MODE = true;
